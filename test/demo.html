<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>xss defense</title>
    <script src="./jquery.js"></script>
	<script>
	XSS_FW_CONFIG = {
		checkAfterDomReady : true,
		reportOnly : window.location.href.indexOf('closexssfirewall') == -1 ? false : true,
	}
	</script>
	<script src="./../src/xss-firewall.js"></script>
</head>
<body>

<a href="./demo.html">开启xssfirewall</a>
<a href="./demo.html?closexssfirewall=true">关闭xssfirewall</a>

<br/>
<br/>



<script>
	var $body = $(document.body);
	setTimeout(function (){
		
		$body.append('1. <script>alert(\'script\')<\/script>，插入script 被过滤掉<br>');

		$body.append('2. <a href="javascript:alert(\'a\')" id="a-filter">点击无alert</a><br>');

		$body.append('3. <img src="http://xxxx.bb/" onerror="alert(\'img\')" /><br>');
	},500)

</script>

</body>
</html>
